-- MySQL Script generated by MySQL Workbench
-- Thu Mar 21 19:31:39 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema vilemoralek
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `vilemoralek` ;

-- -----------------------------------------------------
-- Schema vilemoralek
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `vilemoralek` DEFAULT CHARACTER SET utf8 ;
USE `vilemoralek` ;

-- -----------------------------------------------------
-- Table `vilemoralek`.`Hotel`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vilemoralek`.`Hotel` (
  `idHotel` INT(11) NOT NULL AUTO_INCREMENT,
  `nazev_hotelu` VARCHAR(45) NOT NULL,
  `zeme` VARCHAR(45) NOT NULL,
  `mesto` VARCHAR(45) NOT NULL,
  `adresa` VARCHAR(45) NOT NULL,
  `hodnocení` INT NOT NULL,
  `popis` TEXT NOT NULL,
  `tel. cislo` VARCHAR(20) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idHotel`),
  UNIQUE INDEX `idHotel_UNIQUE` (`idHotel` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `vilemoralek`.`Pokoje`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vilemoralek`.`Pokoje` (
  `idPokoje` INT NOT NULL AUTO_INCREMENT,
  `typ_pokoje` VARCHAR(45) NOT NULL,
  `pocet_luzek` INT NOT NULL,
  `cena_za_noc` FLOAT NOT NULL,
  `Hotel_idHotel` INT(11) NOT NULL,
  PRIMARY KEY (`idPokoje`),
  INDEX `fk_Pokoje_Hotel1_idx` (`Hotel_idHotel` ASC) VISIBLE,
  CONSTRAINT `fk_Pokoje_Hotel1`
    FOREIGN KEY (`Hotel_idHotel`)
    REFERENCES `vilemoralek`.`Hotel` (`idHotel`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vilemoralek`.`Uzivatel`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vilemoralek`.`Uzivatel` (
  `idUzivatel` INT(11) NOT NULL AUTO_INCREMENT,
  `jmeno` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `tel_cislo` VARCHAR(20) NOT NULL,
  `heslo` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`idUzivatel`),
  UNIQUE INDEX `idUzivatel_UNIQUE` (`idUzivatel` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `vilemoralek`.`Rezervace`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vilemoralek`.`Rezervace` (
  `idRezervace` INT(11) NOT NULL AUTO_INCREMENT,
  `datum_prijezdu` DATE NOT NULL,
  `datum_odjezdu` DATE NOT NULL,
  `pocet_hostu` INT NOT NULL,
  `cena` FLOAT NOT NULL,
  `Pokoje_idPokoje` INT NOT NULL,
  `Uzivatel_idUzivatel` INT(11) NOT NULL,
  PRIMARY KEY (`idRezervace`),
  UNIQUE INDEX `idRezervace_UNIQUE` (`idRezervace` ASC) VISIBLE,
  INDEX `fk_Rezervace_Pokoje1_idx` (`Pokoje_idPokoje` ASC) VISIBLE,
  INDEX `fk_Rezervace_Uzivatel1_idx` (`Uzivatel_idUzivatel` ASC) VISIBLE,
  CONSTRAINT `fk_Rezervace_Pokoje1`
    FOREIGN KEY (`Pokoje_idPokoje`)
    REFERENCES `vilemoralek`.`Pokoje` (`idPokoje`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Rezervace_Uzivatel1`
    FOREIGN KEY (`Uzivatel_idUzivatel`)
    REFERENCES `vilemoralek`.`Uzivatel` (`idUzivatel`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `vilemoralek`.`Obrazky_hotelu`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vilemoralek`.`Obrazky_hotelu` (
  `idObrazky_hotelu` INT NOT NULL AUTO_INCREMENT,
  `nazev_obrazku` VARCHAR(45) NOT NULL,
  `obrazek` VARCHAR(45) NOT NULL,
  `Hotel_idHotel` INT(11) NOT NULL,
  PRIMARY KEY (`idObrazky_hotelu`),
  INDEX `fk_Obrazky_hotelu_Hotel1_idx` (`Hotel_idHotel` ASC) VISIBLE,
  CONSTRAINT `fk_Obrazky_hotelu_Hotel1`
    FOREIGN KEY (`Hotel_idHotel`)
    REFERENCES `vilemoralek`.`Hotel` (`idHotel`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ --

INSERT INTO `vilemoralek`.`Uzivatel` (`idUzivatel`, `jmeno`, `email`, `tel_cislo`, `heslo`)
VALUES 
('1', 'Josef Novák', 'libero.proin@outlook.com', '+420 731 589 542', 'andilek255'),
('2', 'Anna Kovářová', 'anna.kovarova@email.com', '+420 605 123 456', 'tajneheslo123'),
('3', 'Pavel Novotný', 'pavel.novotny@gmail.com', '+420 721 987 654', 'bezpecneheslo321'),
('4', 'Martina Svobodová', 'martina.svobodova@seznam.cz', '+420 777 456 789', 'tajneheslo987'),
('5', 'Jan Dvořák', 'jan.dvorak@outlook.com', '+420 736 852 147', 'uzivatel123');
SELECT * FROM vilemoralek.Uzivatel;

-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ --

INSERT INTO `vilemoralek`.`Hotel` (`idHotel`, `nazev_hotelu`, `zeme`, `mesto`, `adresa`, `hodnocení`, `popis`, `tel. cislo`, `email`) 
VALUES 
('1', 'Hotel A', 'Česká republika', 'Praha', 'Pražská ulice 123', '4.5', 'Luxusní hotel v centru Prahy', '+420 123 456 789', 'hotelA@example.com'),
('2', 'Hotel B', 'Německo', 'Berlín', 'Berlínská 5', '4.2', 'Moderní hotel v centru Berlína', '+49 123 456 789', 'hotelB@example.com'),
('3', 'Hotel C', 'Francie', 'Paříž', 'Pařížská 10', '4.7', 'Romantický hotel v srdci Paříže', '+33 123 456 789', 'hotelC@example.com'),
('4', 'Hotel D', 'Spojené státy', 'New York', 'Newyorská 15', '4.1', 'Elegantní hotel v centru New Yorku', '+1 123 456 789', 'hotelD@example.com'),
('5', 'Hotel E', 'Itálie', 'Řím', 'Římská 20', '4.9', 'Klasický hotel s výhledem na Koloseum', '+39 123 456 789', 'hotelE@example.com');
SELECT * FROM vilemoralek.Hotel;

-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ --

INSERT INTO `vilemoralek`.`Obrazky_hotelu` (`idObrazky_hotelu`, `nazev_obrazku`,`obrazek`, `Hotel_idHotel`) 
VALUES 
('1', 'Obrazek 1', 'Obrazek1.jpg', '1'),
('2', 'Obrazek 2', 'Obrazek2.jpg', '2'),
('3', 'Obrazek 3', 'Obrazek3.jpg', '3'),
('4', 'Obrazek 4', 'Obrazek4.jpg', '4'),
('5', 'Obrazek 5', 'Obrazek5.jpg', '5');
SELECT * FROM vilemoralek.Obrazky_hotelu;

-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ --

INSERT INTO `vilemoralek`.`Pokoje` (`idPokoje`, `typ_pokoje`, `pocet_luzek`, `cena_za_noc`, `Hotel_idHotel`) 
VALUES 
('1', 'Dvoulůžkový', '2', '456.46', '1'),
('2', 'Rodinný', '4', '600.75', '1'),
('3', 'Jednolůžkový', '1', '250.00', '2'),
('4', 'Apartmán', '3', '800.00', '3'),
('5', 'Dvoulůžkový', '2', '400.00', '4');

SELECT * FROM vilemoralek.Pokoje;

-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ --

INSERT INTO `vilemoralek`.`Rezervace` (`idRezervace`, `datum_prijezdu`, `datum_odjezdu`, `pocet_hostu`, `cena`, `Pokoje_idPokoje`, `Uzivatel_idUzivatel`)
VALUES 
('2', '2024-04-10', '2024-04-15', '2', '800', '2', '2'),
('3', '2024-05-20', '2024-05-25', '3', '1200', '3', '3'),
('4', '2024-06-05', '2024-06-10', '1', '400', '4', '4'),
('5', '2024-07-15', '2024-07-20', '2', '600', '5', '5'),
('6', '2024-08-25', '2024-08-30', '3', '900', '1', '1');
SELECT * FROM vilemoralek.Rezervace;
